<%- partial('./sidebar') %>

<div id="content">
    <div class="panel">
    <div class='header'>
        <div id="article-sort-panel" class='panel panel-border'>
            <div class=" tab-header">

                <% [['all', '全部']].concat(tabs).forEach(function (pair) {
                var value = pair[0];
                var text = pair[1]; %>
                <a href="<%= value && value !== 'all' ? '/tab/' + value : '/' %>"
                   class="topic-tab <%= value === tab ? 'current-tab' : '' %>"><%= text %> </a>
                <!-- <span>分类篇数 (<%= topic_caculate[value] || 0 %>) </span> -->
                <% }) %>
            </div>
        </div>
        <!-- <span class='col_fade'>文章列表</span>
        <a href="/sort/default" class="sort-tab z-active" data-type="default">按时间排序</a>
        <a href="/sort/top_good" class="sort-tab" data-type="top_good">按热度排序</a> -->
    </div>
    <% if (typeof(topics) !== 'undefined' && topics.length > 0) { %>
        <div class="inner no-padding ">
            <%- partial('../topic/list', {
                topics: topics,
                pages: pages,
                current_page: current_page,
                base: '/tab/' + tab
            }) %>
        </div>
    <% } else { %>
        <div class="inner">
            <div class="alert-info">暂无文章</div>
        </div>
    <% } %>
    </div>
</div>

<script src="/public/js/tab.js"></script>
